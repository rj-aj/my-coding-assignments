<!--The content below is only a placeholder and can be replaced.-->

<div class="container" id="form_wrapper">
  <div class="row">
    <div class="col-lg-12 text-center">
      <h1>Registration Form</h1>
    </div>
  </div>
  <div *ngIf="userForm.valid">
    <p>Thank you for registering with us {{ user.firstName }}.</p>
    <p>We just sent you a confirmation email at {{ user.email }},and</p>
    <p>we will send all mail to {{ user.address }}, {{ user.city }} {{ user.state }}.Have a wonderful day! </p>
  </div>

  <form (submit)="userForm.valid && onSubmit($event, userForm)" #userForm='ngForm'>
    <div class='row'>
      <div class='col-md-10'>
        <label for="firstName">*First Name:</label>
        <input type="text" name="firstName" required
         minlength="2" [(ngModel)]="user.firstName" #firstName="ngModel">
        <div class="errors" *ngIf="firstName.errors && (firstName.dirty || firstName.touched)" class="alert alert-danger">
          <div *ngIf="firstName.errors.required">
            First Name is required.
          </div>
          <div *ngIf="firstName.errors.minlength">
            First Name must be at least {{ firstName.errors.minlength.requiredLength}} characters long.
          </div>
        </div>
      </div>
    </div>
    <br>
    <!-- Last Name -->
    <div class='form-group row'>
      <div class='col-lg-10'>
        <label for="lastName">*Last Name:</label>
        <input type="text" name="lastName" class="form-control" required minlength="2" [(ngModel)]="user.lastName" #lastName="ngModel">
        <div class="errors" *ngIf="lastName.errors && (lastName.dirty || lastName.touched)" class="text text-danger">
          <div *ngIf="lastName.errors.required">
            Last Name is required.
          </div>
          <div *ngIf="lastName.errors.minlength">
            Last Name must be at least {{lastName.errors.minlength.requiredLength}} characters long.
          </div>
        </div>
      </div>
    </div>
    <br>
    <!-- Email -->
    <div class='form-group row'>
      <div class='col-lg-10'>
        <label for="email">*Email:</label>
        <input type="text" name='email' [(ngModel)]='user.email' #email="ngModel" required pattern='^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$'>
        <div class="errors" *ngIf="email.errors && (email.dirty || email.touched)" class="text text-danger">
          <div *ngIf="email.errors.required">
            Email is required and must be valid.
          </div>
        </div>
      </div>
    </div>
    <br>
    <!-- Password -->
    <div class='form-group row'>
      <div class='col-lg-10'>
        <label for="password">*Password:</label>
        <input type="password" name='password' [(ngModel)]='user.password' #password="ngModel" required minlength="8" maxlength="16">
        <div class="errors" *ngIf="password.errors && (password.dirty || password.touched)" class="text text-danger">
          <div *ngIf="password.errors.required">
            Password is required.
          </div>
          <div *ngIf="password.errors.minlength">
            Password must be at least {{password.errors.minlength.requiredLength}} and max: 16 characters long.
          </div>
        </div>
      </div>
    </div>
    <br>
    <!--confirm password -->
    <div class='form-group row'>
      <div class='col-lg-10'>
        <label for="confirm_password">*Confirm Password: </label>
        <input type="password" class="form-control" name="confirmPassword" required minlength="8" maxlength="16" [(ngModel)]="user.confirmPassword"
          #confirmPassword="ngModel">
        <div class="errors" *ngIf="confirmPassword.value!==password.value && (confirmPassword.dirty || confirmPassword.touched)" class="text text-danger">
        </div>
      </div>
    </div>
    <br>
    <!-- street address -->
    <div class='form-group row'>
      <div class='col-lg-10'>
        <label for="address">*Street Address:</label>
        <input type="text" name="address" class="form-control" required [(ngModel)]="user.address" #address="ngModel">
        <div class="errors" *ngIf="address.errors && (address.dirty || address.touched)" class="text text-danger">
          <div *ngIf="address.errors.required">
            Address is required.
          </div>
        </div>
      </div>
    </div>
    <br>
    <!-- unit address -->
    <div class='form-group row'>
      <div class='col-lg-10'>
        <label for="unit_address"> Unit/Apt#: </label>
        <input type="text" name='unit_address' [(ngModel)]='user.unit_address'>
      </div>
    </div>
    <br>
    <!-- city -->
    <div class='form-group row'>
      <div class='col-lg-10'>
        <label for="city">*City: </label>
        <input type="text" name='city' [(ngModel)]='user.city' #city="ngModel" required>
        <div class="errors" *ngIf="city.errors && (city.dirty || city.touched)" class="text text-danger">
          <div *ngIf="city.errors.required">
            City is required.
          </div>
        </div>
      </div>
    </div>
    <br>
    <div class='form-group row'>
        <div class='col-lg-10'>
      <label for="state">*State: </label>
      <select class="dropdown" name="state" [(ngModel)]='user.state' #state="ngModel" required>
        <option value="Washington">Washington</option>
        <option value="California">California</option>
      </select>
      <div class="errors" *ngIf="state.errors && (state.dirty || state.touched)" class="text text-danger">
        <div *ngIf="state.errors.required">
          State is required.
        </div>
      </div>
      </div>
      </div>
      <br>
      <div>
        <label for="feeling">*I'm feeling lucky:</label>
        <form class="radio">
          <input class="radio" type="radio" name="feeling" #feeling="ngModel" value="yes" [(ngModel)]='user.feeling' required>Yes
          <input class="radio" type="radio" name="feeling" #feeling="ngModel" value="no" [(ngModel)]='user.feeling' required>No
          <br>
        </form>
        <div class="errors" *ngIf="feeling.errors && feeling.touched">Choosing how you feel is required</div>
      </div>
      <button *ngIf='userForm.valid'>Submit </button>
  </form>
</div>
